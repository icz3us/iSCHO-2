<?php
$philippineLocations = [
    'Zambales' => [
        'Botolan' => [
            'Acoje', 'Ambala', 'Apo', 'Apo-apo', 'Bacabac', 'Bancal', 'Bangan', 'Batonlapoc', 'Belbel', 'Beneg', 'Binuclutan', 'Burgos', 'Cabatuan', 'Capayawan', 'Carael', 'Danacbunga', 'Maguisguis', 'Malomboy', 'Mambog', 'Moraza', 'Nacolcol', 'Owaog-Nibloc', 'Paan', 'Panan', 'Poblacion', 'Porac', 'San Isidro', 'San Juan', 'San Miguel', 'Santiago', 'Tampo', 'Taugtog', 'Villan'
        ],
        'Cabangan' => [
            'Anonang', 'Apo-apo', 'Arew', 'Banuambayo', 'Cadmang-Reserva', 'Camiling', 'Casabaan', 'Dolores', 'Felmida-Diaz', 'Laoag', 'Lomboy', 'Panganiban', 'San Antonio', 'San Isidro', 'San Juan', 'San Rafael', 'Santa Rita', 'Santo Ni単o'
        ],
        'Candelaria' => [
            'Babancal', 'Binabalian', 'Catol', 'Dampay', 'Lauis', 'Libertador', 'Malabon', 'Malimanga', 'Pamibian', 'Panayonan', 'Pinagrealan', 'Poblacion', 'Sinabacan', 'Taposo'
        ],
        'Castillejos' => [
            'Balaybay', 'Buenavista', 'Del Pilar', 'Looc', 'Magsaysay', 'Nagbayan', 'Nagbunga', 'San Agustin', 'San Jose', 'San Juan', 'San Nicolas', 'San Pablo', 'San Roque', 'Santa Maria'
        ],
        'Iba' => [
            'Amungan', 'Bangantalinga', 'Dirita-Baloguen', 'Lipay-Dingin-Panibuatan', 'Palanginan', 'San Agustin', 'Santa Barbara', 'Santo Rosario', 'Zone 1', 'Zone 2', 'Zone 3', 'Zone 4', 'Zone 5', 'Zone 6'
        ],
        'Masinloc' => [
            'Baloganon', 'Bamban', 'Bani', 'Collat', 'Inhobol', 'North Poblacion', 'San Lorenzo', 'San Salvador', 'Santa Rita', 'South Poblacion', 'Taltal'
        ],
        'Olongapo' => [
            'Asinan', 'Banicain', 'Barretto', 'East Bajac-Bajac', 'East Tapinac', 'Gordon Heights', 'Kalaklan', 'Mabayuan', 'New Cabalan', 'New Ilalim', 'New Kababae', 'Old Cabalan', 'Pag-asa', 'Santa Rita', 'West Bajac-Bajac', 'West Tapinac'
        ],
        'Palauig' => [
            'Alwa', 'Bato', 'Bulawen', 'Cauyan', 'East Poblacion', 'Garreta', 'Libaba', 'Liozon', 'Lipay', 'Locloc', 'Macarang', 'Magalawa', 'Pangolingan', 'Salaza', 'San Juan', 'Santo Ni単o', 'Tition', 'West Poblacion'
        ],
        'San Antonio' => [
            'Angeles', 'Antipolo', 'Burgos', 'East Dirita', 'Luna', 'Pundaquit', 'Rizal', 'San Esteban', 'San Gregorio', 'San Juan', 'San Miguel', 'San Nicolas', 'Santiago', 'West Dirita'
        ],
        'San Felipe' => [
            'Amagna', 'Apostol', 'Balincaguing', 'Fara単al', 'Feria', 'Maloma', 'Manglicmot', 'Rosete', 'San Rafael', 'Santo Ni単o', 'Sindol'
        ],
        'San Marcelino' => [
            'Aglao', 'Buhawen', 'Burgos', 'Central', 'Consuelo Norte', 'Consuelo Sur', 'La Paz', 'Laoag', 'Linasin', 'Linusungan', 'Lucero', 'Nagbunga', 'Rabanes', 'Rizal', 'San Guillermo', 'San Isidro', 'San Rafael', 'Santa Fe'
        ],
        'San Narciso' => [
            'Alusiis', 'Beddeng', 'Candelaria', 'Dallipawen', 'Grullo', 'La Paz', 'Libertad', 'Namatacan', 'Natividad', 'Omaya', 'Paite', 'Patrocinio', 'San Jose', 'San Juan', 'San Pascual', 'San Rafael', 'Siminublan'
        ],
        'Santa Cruz' => [
            'Babancal', 'Baliwet', 'Bayto', 'Biay', 'Bolitoc', 'Bulawon', 'Canaynayan', 'Gama', 'Guisguis', 'Guisguis-San Isidro', 'Lipay', 'Lomboy', 'Lucapon North', 'Lucapon South', 'Malabago', 'Naulo', 'Pagatpat', 'Pamonoran', 'Poblacion North', 'Poblacion South', 'Sabang', 'San Fernando', 'Tabluan', 'Tubotubo North', 'Tubotubo South'
        ],
        'Subic' => [
            'Aningway-Sacatihan', 'Asinan', 'Baraca-Camachile', 'Batiawan', 'Calapacuan', 'Cawag', 'Ilwas', 'Mangan-Vaca', 'Matain', 'Naugsol', 'Pamatawan', 'San Isidro', 'San Jose', 'San Martin', 'Santa Rita', 'Wawandue'
        ]
    ],
    'Bataan' => [
        'Abucay' => [
            'Bangkal', 'Capitangan', 'Gabon', 'Laon', 'Mabatang', 'Omboy', 'Poblacion', 'Salian', 'Wawa'
        ],
        'Bagac' => [
            'Banawang', 'Binuangan', 'Binukawan', 'Ibis', 'Pag-asa', 'Parang', 'Paysawan', 'Poblacion', 'Quinawan', 'San Antonio', 'Saysain', 'Talisay', 'Binukawan', 'Wawa'
        ],
        'Balanga' => [
            'Bagumbayan', 'Cabog-Cabog', 'Cataning', 'Central', 'Cupang Proper', 'Cupang West', 'Dangcol', 'Ibayo', 'Malabia', 'Munting Batangas', 'Poblacion', 'Puerto Rivas Ibaba', 'Puerto Rivas Itaas', 'San Jose', 'Sibacan', 'Talisay', 'Tanato', 'Tenejero', 'Tortugas', 'Tuyo'
        ],
        'Dinalupihan' => [
            'Aquino', 'Bangal', 'Bani', 'Bonifacio', 'Colo', 'Dalao', 'Daang Bago', 'Gen. Luna', 'Happy Valley', 'Luacan', 'Magsaysay', 'Naparing', 'Old San Jose', 'Pag-asa', 'Pagalanggang', 'Payangan', 'Pita', 'Poblacion', 'Rizal', 'Roosevelt', 'San Benito', 'San Isidro', 'San Pablo', 'San Ramon', 'Santa Isabel', 'Santo Rosario', 'Tucop'
        ],
        'Hermosa' => [
            'Almacen', 'Antipolo', 'Bacong', 'Balsik', 'Bamban', 'Batong Dalig', 'Burgos', 'Cataning', 'Culis', 'Daungan', 'Mabiga', 'Mabuco', 'Maite', 'Palihan', 'Pandatung', 'Pulo', 'Saba', 'San Pedro', 'Sumalo', 'Tipo'
        ],
        'Limay' => [
            'Alangan', 'Duale', 'Kitang 2 & Luz', 'Lamao', 'Landing', 'Poblacion', 'Reformista', 'San Francisco de Asis', 'St. Francis II', 'Townsite', 'Wawa'
        ],
        'Mariveles' => [
            'Alion', 'Alas-asin', 'Baseco', 'Batangas II', 'Biaan', 'Cabcaben', 'Camaya', 'Ipag', 'Lucanin', 'Malaya', 'Mt. View', 'Poblacion', 'San Isidro', 'Sisiman', 'Townsite'
        ],
        'Morong' => [
            'Binaritan', 'Mabayo', 'Nagbalayong', 'Poblacion', 'Sabang'
        ],
        'Orani' => [
            'Apollo', 'Bagong Paraiso', 'Balut', 'Calero', 'Centro 1', 'Centro 2', 'Dona', 'Kabalutan', 'Masantol', 'Mulawin', 'Pag-asa', 'Palihan', 'Pantingan', 'Parang', 'Puksuan', 'Sibul', 'Silahis', 'Tala', 'Tapulao', 'Tenejero', 'Tugatog', 'Wawa'
        ],
        'Orion' => [
            'Arellano', 'Bagumbayan', 'Balut', 'Bantan', 'Bilolo', 'Calungusan', 'Camachile', 'Capunitan', 'Daan Bago', 'Daan Bilolo', 'General Lim', 'Lati', 'Puting Buhangin', 'Sabatan', 'San Vicente', 'Santa Elena', 'Santo Domingo', 'Villa Angeles', 'Wakas'
        ],
        'Pilar' => [
            'Ala-uli', 'Bagumbayan', 'Balut I', 'Balut II', 'Bantan Munti', 'Burgos', 'Del Rosario', 'Diwa', 'Landing', 'Liyang', 'Nagwaling', 'Panilao', 'Poblacion', 'Rizal', 'Santa Rosa', 'Wawa'
        ],
        'Samal' => [
            'East Calaguiman', 'East Daang Bago', 'Gugo', 'Ibaba', 'Lalawigan', 'Palili', 'San Juan', 'San Roque', 'Santa Lucia', 'Sapa', 'Tabing Ilog', 'West Calaguiman', 'West Daang Bago'
        ]
    ]
];


function getAllMunicipalities($province = null) {
    global $philippineLocations;
    
    if ($province !== null) {
        if (isset($philippineLocations[$province])) {
            return array_keys($philippineLocations[$province]);
        }
        return [];
    }
    
    $municipalities = [];
    foreach ($philippineLocations as $provinceMunicipalities) {
        $municipalities = array_merge($municipalities, array_keys($provinceMunicipalities));
    }
    return $municipalities;
}


function getBarangays($municipality, $province = null) {
    global $philippineLocations;
    
    if ($province !== null) {
        return isset($philippineLocations[$province][$municipality]) 
            ? $philippineLocations[$province][$municipality] 
            : [];
    }
    
    foreach ($philippineLocations as $provinceName => $provinceMunicipalities) {
        if (isset($provinceMunicipalities[$municipality])) {
            return $provinceMunicipalities[$municipality];
        }
    }
    return [];
}


function validateLocation($municipality, $barangay, $province = null) {
    global $philippineLocations;
    
    // Clean and standardize input
    $municipality = ucwords(strtolower($municipality));
    $barangay = ucwords(strtolower($barangay));
    if ($province !== null) {
        $province = ucwords(strtolower($province));
    }
    
    if ($province !== null) {
        // Check specific province
        if (!isset($philippineLocations[$province])) {
            return false;
        }
    
        if (!isset($philippineLocations[$province][$municipality])) {
        return false;
    }
    
        return in_array($barangay, $philippineLocations[$province][$municipality]);
    }
    
    // Check all provinces if province not specified
    foreach ($philippineLocations as $provinceMunicipalities) {
        if (isset($provinceMunicipalities[$municipality])) {
            if (in_array($barangay, $provinceMunicipalities[$municipality])) {
                return true;
            }
        }
    }
    
    return false;
}
?> 